/*!
 * bootstrap-actionable (http://javatmp.com)
 * Actionable plugin is a small Javascript code that help implement click actions for a and button tags by declarative way and provide functionalities to load AJAX content in Bootstrap Modal Wrapper instance.
 *
 * @version 1.0.1
 * @link https://www.javatmp.com/pages/javatmp-actionable-plugin
 * @copyright 2018 JavaTMP
 * @license MIT
 */
!function(t,e){"use strict";"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery"),require("bootstrap"),require("bootstrap-modal-wrapper")):"function"==typeof define&&define.amd?define("bootstrap-actionable",["jquery","bootstrap"],function(t){return e(t)}):t.BootstrapActionable=e(t.jQuery,t.BootstrapModalWrapperFactory)}(this,function(t,e){"use strict";var a={loadingHtml:"Loading ...",ajaxHttpMethod:"GET",ajaxContainerReady:"ajax-container-ready"};function o(){this.options=t.extend({},a),this.init()}return o.prototype.init=function(){var e=this;t("body").on("click","[actionType]",function(a){a.preventDefault();var o=t(this).attr("actionType")?t(this).attr("actionType"):"ajax",i=t(this).attr("actionScope")?t(this).attr("actionScope"):"html";if("ajax-model"===o){var n=t(this).attr("href")?t(this).attr("href"):t(this).attr("actionLink");e.fetchAjaxContentByModal(n)}else if("action-ref"===o){var r=t(this).attr("action-ref-by-name")?t(this).attr("action-ref-by-name"):"";t(i+" [action-name='"+r+"']").length>0&&t(i+" [action-name='"+r+"']:first").trigger("click")}else if("action-ref-href"===o){r=t(this).attr("action-ref-by-href")?t(this).attr("action-ref-by-href"):"";if(t(i+" [href='"+r+"']").length>0){var s=t(i+" [href='"+r+"']:first");s.attr("target")?window.open(s.attr("href"),s.attr("target")):t(s).trigger("click")}}else console.log("ERROR: No Action handler attached for actionType=["+o+"]")})},o.prototype.fetchAjaxContentByModal=function(a,o){var i=this,n=e.createModal({message:i.options.loadingHtml,closable:!1,closeByBackdrop:!1,closeByKeyboard:!1});n.originalModal.removeClass("fade"),n.originalModal.find(".modal-dialog").css({transition:"all .3s"}),n.show(),void 0===o&&(o={}),o.ajaxModalId=n.options.id,t.ajax({type:i.options.ajaxHttpMethod,dataType:"html",url:a,data:{},success:function(e,a,o){var r=700;!function a(){n.isOpen?(n.updateSize("modal-lg"),setTimeout(function(){n.updateMessage(e),setTimeout(function(){t("#"+n.options.id).trigger(i.options.ajaxContainerReady,[n])},0)},350)):(r=r<=50?50:Math.round(r/2),setTimeout(a,r))}()}})},new o});